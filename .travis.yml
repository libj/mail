# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: cvcXBvKjULixey4xfSy9uKFhf/f//q76T/m+TpeCA4x2iCXGbHv2h9yw9xcFv1GOuag0j3iCIkixpYdwQzLTuWXKNYqSJZpmhtBuRcMXVwpQN/wPwcuAVyPMDUvVao8lux49jSyXV8EITQXeskny9HXT14y9S9k6bwfV4Jpffi0aNcP1aURsGyB5bhxde0V3Qf1XkhWRb050PQ6qbA1D+16h+4z2Zs+8CG3AAh0xiAkcZ/rdQzazw3e6UqTdhfDcHqmY8y6ZamgIei1ZRyrUa7/HQmkLaNSrcS9hx30Nkdg2fmZj3fZ3a//TwVePf8g9KYzUbkmbEXJHT514ecDZsm8MKPhRyeWeWegbp+BlU5QD7pGvdy37/Tv2x5IOhbaTDz1HhCp0u8xVX+zI58zzU8TYc1vb5YcwAswepNS3/YFKRvwsZcKH8h4dCoRxZYlaLN1WEK/80YdXs+x0sdCgrJWAlK/RKiyKeQdfJkj41/zoziXjw2YR4XApsVfgFotrR8gNxOyfGKzHU5PcivMgyCk42p4U88u+Y79CqlUPvBWN8avCdyZzTvcNpTKS9qy7L6MlQl9F7KZTx0ddjnDNNJLvghhS2HZSDtJzksYRtkisRqbgFDhtoyqD6qT2UMuBu9MkuwLbe4WitCuE2y54us4g5g4IQpYoXNmAc7cw44A=
  - secure: CfzY/16wxOa+JDl/9PqjfJwkOQVqLdDEqE3q7FdIg+6Ck5lD7iZwv5u0oMseWL24gxrLWe6efgdSRtJmz+lqHqfMRensSCiT81a9R6ESJ3AK6Znk+A3wnw911fH3wfyFyz9baicpJVPETR+aTb3LoNiMb/c/WfNtqSDNze7TUB6vvxgQk6wIQxGtIendISzPZQwYVJR5BbruSIgUH/5dFx8ULIDrOwd1b6bUFoZsaufYF4Lr8AWzsO52uB0mHP0ZM2SC5KwxCRffVeSp9CmfLwq8/rSlK0TkZS4hqSZfCDpzi3FgzV31O5dRYSjIMBYVhNA4Yq7j+qkbCcJKNJxDeX8bAD9bJDz4x2SUHYAMBnoSmySwLgNbkYBc1sRxtt83t8MTmH05nxP4BmYHyYiDz1MKuZfu4eXjxurv9bRIw27hZ4tsZmCtsJi/bNzb3kBfiRK9WC51wKylH6YNi0BwrICVg+DjmmVDyoX7s4uQaPZ/61mHG3cvGLmxXIj/00OfMBCg1zo0CwRtnxKxC4I82TU6J5S3Q2hQNS+XGqOMxddxCCL9knu1TahZ5FZ5k8zohGlErsWEgLlvy6R2e8Yo8GGDp2J3QOlAsRHC/ZgN6VcUBLaxMkvARD5NexVUcA9Poh5dpDi/ioHpEpBo3z5v7CLFegp0DwkM7JRen/GgGsU=
  - secure: du20aUvgCyQy0Yc89KOkCAxQriJpS1AbmWDoHZ1vTgDQAwrO9H+BAtxPsMortLBjXEG50iCTR+rs5AVy6il+Jv8GW2hbsZGb9H0Vh75vvdtVUbw518AHmE4/1KNqwpapmMZrG83+97wHePW/8kPN8wRchlAhc+VVuECV7cZyYFMytUyHUhdGuMQlyZA9drud+hRu031jGdJ2gLQyahkvshWHGR1z0WmfsJFmtJj2/M42Mmj1wg/qXbRxVKeZqqDYu8f+eFx6zDcP5rtqJMvm1MT1ADO20Q00uNKCxT15r4n/QYI2WsRDfDaQsa+ETzQnJguzHhD3SDKyM6t5O9yVU4dwlYfpKZ8QCjaD/CVh3r05HN9OAeOa67Joeah+e0j00zuDLLW1/fKwBkkHLG83MgR8INq7YeurBth8iA7zCJvC5yucIpfOqUCN908Wbl1pc7w9S+F+IOAFEPp3LcLMl2zgSGrYKh8OVnsT/bQMj0wby3WoQEKJ0F8gH+l+RpRHTYsMgdDsOGEhh1+nIzmGRB04gzXXPwr3e2tvRh0AJNCLH5On7HTisEB+ntUtGWjt6xdCsYaX9RdHl54X2LB1ey5cAVyqZHQCzQy0k+nC9Gi1Mfs4bvK4g52o6Wwk7GJ0dw6hk6/EVHIWnDquOcMlIJvMuKqbpN9/TIPk2qSSCZM=
  - secure: poXj5GFYSnk4e+znVQDo1Z29wsvUVDKNhhvJ++JBlOVYfz8iFJ0MhZdjaoKzqdR7cIwMO8WglFzCMwCoBdzVjGZ3Ih7TgUqjXWUCQ4lCBzK1nKdLRzgkVXu0fEG8NJXdF1sm2isNZ7T7fdr6FV4r+Y6eyeGLOpspu91InaOftQqXGVsIZe6H7gfNqFvfg8OmXH2PmuVJMHukofq3vybZlvuv2I2WPobQu/cGBODTWIJq1TpG6bcVz5O2IPCV3gSk3zCi4esOr3ZdsnAkc82VdZSRY/Cr1/FYSzQZi1XeCM9z1DZ7Yeu4IQio4u3JI3OZAeW1tjlSEJco8LAnYlBUDeZtzMzne309Zz17lOHuPJ01HodyTzFKyG6IT0MoSn9NrSQFGmQzFjOkVaaoZFUeHhoxAI7Q2i0SdsNqNsrwfei+FuT066DloAmwHBjHvbmlvsWVch5WKrSe0U3Gb+IPlpWo28SqERs+Is9CiDckXA5oNXPyK/RFXXliGMUa8sFw+QWZO+IFkJJzPXIJpbgEUoaffNKpjm97KOIHpCazrQUYO2NQ1VhL5Wa+JjDLip34/Ag3dCxAudNT9o3vMfzi7RXMD61H7uEZjdWJBsM6tNU/5tr7bUsBjHDgfK6wFcGZH6+5bVXLj412wmPQWYVAAnh/7YN4SKuVvcQuUyfOwEw=
  - secure: vkiEcdUqHoJYbdHDahA1A3BkOyedq45V5hrxDImCUayZfImF+uHdYGYbNNOcHKBR3+go9BB6IfbJLkwZybe9wFDVNnl1NqYu04anExSEO8iLUQ4tpOi0RBSeWjy7KB5uSZuFwIWFuFU6kL33kiBHNOsq0puW/gjR9o4N6w2r3Qkcs4O/zp3GphWN4KLw608ORSRC0dmYT+c8Igv1bT8/TXN52+ExtvvL/YdGcKBt51AGuouUvtUWYV59E1WhvpR2Jy4+HT6Lh9v82znbYYB7L+oZGnT7vE7J8nglCJXBTIym4ObMhZaiSPjl09HjOyt1us6/G5ZDIajF1/2e2lGqH8UIUPasjB4aYiHAcu77B8m37yMQjHhf2dJu8ezm1H2bP2QsaCE9TtKbfoezrciTDZo9knRjFZeGN6ORp+FfnJrhkKBKsOTbbJjy7Dod/VDj08aAiASwiNrY0qQOMBe5cJCaXFJMgs9kKytJDkNWzTXZXkEAYhdtOjUPyUWBpx9Obcx3BNtFuAU0ohxxMhK4/XfGPzBEKL/4LKcwIBA4szYabKeRkuQXk6qQR8bzrHOTTBpk+BJVbLR6vrWKeaPiektGIWrL8057a2mWmK1sEjjiM7Hxhm9p/pM43gxpE5UMrAIoVTCgKKKcVtmM8pKlSjZiIPtNM3GUtaI5gQxZ2Ok=
  - secure: RVYDn1UjGBohf0RLzs1Yblrc9TtASVXx1Kl3wIhICgatqmJdUfWTD6+5vLCFrs4i/p9zSfDV8dSIdvwmkhUAygL0JCuIkJI0HAcbHB922qLUqzIVmeh09EHswDCpH8/3/ni95Ioc7BlXVkYJdqB2BxG4aY/IgHhEn3ESz2LUsTO1blnVOZTqKXm7HuD0ey61ojb0/3OAtKKE9Y7JZS9GX5ZEesxzlz1TlAzPF0Y7ayqDBjTcqptgxWh1XqiBsDZihuuvhQ/6qF/SmA9OLzov5+MF5m12kiZmKSoavwX1I5xEJ4871zWrmacO5fmYvvVRcawpURzUmvFmFfruha9mMiZ39ppHASYNT8tlm40v3CReKQ8cS7MzVJ4YFzB/CVV7iaKMiIRBRK8TxdAJhb9p5C03z4dq2qfhGkEi/stX3frponevsWB2Iv0YJZ9c4Mi1caH28VKE7Q2pEIkySkc3m2GRseCWweJrSHPO9z4nzwYD1wntsHxtMoGh6fsQQ3HQ9wNe2fKXEgfZSFtoG9Fa9Ym3556cA/ciVZ8842hktZ4LkrBjz1A4X4KmPn39ql+aB1j6QVO/BpGroNhqRNxZPHSboIe6O2nMNHzwQ6Oi7LNmT/K9JQLQnRWnxSJvQrsYEb7dXtvkav5JXOT+eZWMeC5Gy5eADIZ1esJ6xvXCBxs=
  - secure: q3F9SoKzUxmrCl53esfhd8GNIDl1D+HFXEtXWtyyWtvMEmTngWjTersxgLwT8uOos9u2yvvl3Uu2VQcLXQDoFhpq0+rhw8VZwEdulHBQRvVEIOzwAwponGQ4ZMn5DdzvhKzg1yjVooSLVE/firSFLS5y4fwxZhEHw2DnXZ7yIRZLO+T1HUqQF5QYdLH78s/NfANKv/3vRAyEeCBsh3zSzpLbnvoDWucpDjGp1I4jGvybnd4EBiuAkDFHp8vOoEEzAuwso/kGGSH4ub6g41v0TCul7iuN4niwA37yRWPF0bWOciiM8+bnCj+ePZ8JglLW2haXwGHlwE9buK3CRQD4Pk/0NPQUcqneoG+3+BYAwZ5XveNkoUJ9Sq6KWCiSHt7HVh3XWF/UPahdBPoe2sbBgFwvSHF0OLUBRs+w4syv9ZwHfeGFQsYgtsN/V5pRvZ1fINd5Ji7DTNo01rLfBGyWi/d/gJpBMZRuLG2ZomP/KLXTJDNBvoKoHItN8bO2Ku6mMp2t9n0qTQanBdin1dfQE6PvA32WC+pFFh0skeFVH33WEsdoCEvX3FAUrGLWQvyyXuW2BqUVI57zjjlRLyamPwofrRiq9YgHU6ZpKBjvvzqVjDc2XfvcIj4NzcYcw0Mmn+3SIrN0C1p+MQiFUAkZTdBFBnYuCevlWmAyRYfS6io=
