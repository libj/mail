# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install -P report;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: iuBvfUQIxwMOR1It7JncTbmqwbhHg7FJQL2aDItdVqzpgDWmfNssqJ103xXRAgvFIxvpqHR0EHWcyN2RMxnxMvLhXusRkzjhdK1v0mYCVjecvz7fHWB05W+uTst/ztd5pC5b+6siWBua9XH8BxlynrAcZavrIECaAI1SIAsgkm4MtcaJ6s6EFT5ZT6s0D7ePV7MnMr7GDgwk4B13Qkv4PFcAsknS9m/2KQ0Mjb7UAL8oVPlbd5mKM/DPZzUP6J17Za1D/Be5yEUXh+aKid24Q7pI+cxChW26OAFNodcTPa8QgC+lMc7wrmoURkGPYQM7lrlwxcOhEybpN+hg89PegJ0HFdti8nHcwnjYZdfPaTdjecZqVrhgqtar5uBxrFz+dl8uZ12iQ9sXhpQFe1JrcaM/NC+W91NOIhCs0E1yEjxgW6XYH2W97J4gAeYThPjNCrcmZxnbX9v0gJjKDrR77zoq29ZS6D3X8LAy8Q/S77PP/tspjo352vRC3KYKX/uuW+gugxvW4xPARg2+3uyg2m8HYptFw4xY1aN+6dF+cwVbvqITynmyyj6sYtz5FTYz+mWh7C19/Qm/Am4wPNcmuYK3MaGbVRK0Zw/7DBJIp426zNsEhFpJNkCtqeFTSqg2jfYc6D5rStauNG+asrisg2uyGMvNezUsMRykQC9bIoA=
  - secure: mu/a8Fuc/exn9/ORQMLZB9hVDFCMBru7Qx5rlTxu5U7xolabm6YvmsFWYOfhZpDE/VeXagakGMinukbJc47/wcgVZk0K344qJiU7znxoM3wrkuovxuGqYMarKirD6dOnLWst9RYqmixa+T1MmUWFQbK/563kMkM5/gaDmZpPVZSryiuP2+FEq24ijncBhey4qKedNAzC8/PBhQgbww/VLeXfPVD1zUiHKM6N+IaeRjh4tB+dGwqLnyV+vBV6CUKORTxSOqFM83AV58OQ9FIKLzwdpRJ9HxS7qBdyK9SCHNrW55AsAFaWPJTN/9qf5kM51hVtciA9UgHt/6aIQtY17bfuO2SrPiwRGR+tBsnLCs2b7M7A8zQpMSHcZ94j+qljHyZJTXrOfEma6wbJgB7/2vUSGROtLDNroWEhMRg6OCh0ez+Z2fuGWMrwvuCGmLz0WMzbGUkEyc82OndFWu/kF4nPQej0y+If6ZeBGyJMBE1xnosfwQrtYB5JyAfwTGFdIslhfsfJymINwOCNREhynGDYCHnj964N+izq9rcfbl3JHSjP9AE361uevVrPyKY7cOCLKMQvmol64dRujWalz7VpClzMPy2bfYsfklvn099WZhwuRDlGqH2OCZBpSSiJnGARMEX22zQ1t6yPSfiRdNxOTl9gC9Y8ocoCH+1VRG0=
  - secure: iOZdTzw4+a/DI/k+Vw9HeG5ZKkRwl/XSTF4t45vCWBHqCniMn5AOy441MryWg8yWL9YD8Q0RKDHdcEegeIbkBCTECgoMe1thb+eH9BVoiJgvSfBtMXJdGHEdCnZhxloIPlii3VF1XF/ftqi23ZAiQBzb/evcQBStj2qlWOTvB/hGlrirKrwGPMqJbUfukPWdPu8RSpcvqWazMgQpYcnCq7VlZFIqzDlQ/IxQhvXFeRpKGQz9jiVilQblThk++9frT9r+p+4M2u47pQ+sR38E4KRHESOPLPGdnQ6CNPZT9sE4ND8xwXWfMi/5UbDPdibIy2SEJVn+cIm+b+JVERTjbY6jmB7wrhZGvtTaTReLcNxuQFaIF3qPYj5mMGgESu70mk5Nlx7wAtVSCxJzWRqUXMaW/djUDTojKHu6yUZUQua2po1sjJy7JfBJcluDNoMDClyAT+BHbqPNeXH4JiKqzHnMgwZ/aPU1is6uUL9gH0vYJ6+CgpFUswChoba/cduvr0HBcsaJb2p9pxZoJEeGDa/FvZfTNohxPxZKtShR5/28eabzP4vVxTrLs1qMNMta0waEUkjFnKcG6rLJSRXEo625XA5YLqYBsuGy/bM0+QwrpwLpfgo/TxOlrIbWkFTJNQCKF03k3G9PvQmjbBRhM54VVGum+OVRSqrcackcDFk=
  - secure: O/z6JRrxV1Za0EwKyB44I5xsfDIAR7+vjRWuKkOkLthNITsp+Rm7BQ7rEs61OOsBAszzjOlXXWS7z4EwJD8byDwvHT/gCdOez1+sjqRE0smh7Hr67TFkhpo+25p1uAaGBLE0sfAwqJHs0s1ZAdl+VZSmRWvT5LfMbg1Wtio4QvMWS2TwqZumCVrzpc4UsEGsAWiY+CknlcoIPwW7Og1IwdHeW9Zvrv5kn5d4ZEMCf3POsWXmiefFb87uy89ohALaVOzxUJWhY+ZfEVNa0Dp8CENtGXDuoPO7jfNOJHUTns0kYOqxEIKsFw5EMFiHwrVJMIoOZnmXXkhISGWQCQjEvXrZVlP/17KqsIoFrCi1XUBfedE70qy+VTaXT/Yms2EzUycN/2Z1jj9GKeZ3IjZI6z0uWUWP0CLMMnCHzWVg3UuEbfBTIgrtJZPQj4/uVTMVzRTLUvXJlfbAhrBiShx35EnOKJr21qT+E5jjZNDTmJIK6MuGBSZeJpmuSHi8uJee73vGk0lnfSNW/lZ8djtYxupWtuq+tI+LBy+tMtYcVUELQrucKYMXn+B6gK2EeJPrXrAMegKFDxgV0vIaxsEJhZkApKWFa9eZRc3mMzF8O2Plbje6dScJaDN40fTcuEFAhfXRJdvu3vMffyEE4SU2JlvPcbKeKXgPeBAaC6Ocevo=
  - secure: U83m+xdhaY+oqcyS0oYGzJKqvMjnbkoLQJEkEleKcsa1/E+8ha3eLysmu1NpscwK9IB4TAjxE7HiVPYXs6X3s1y6UigvXIBu/yqyd5cWYVwswxMB9MxM0b9TwktqQfI4llJCbRLJQjkahjjFhGR15OuvZmIq/Qfg6lhhYGPiVSPej2oOohNP0dWACcL4n1z+fd3m/8ZWzEUc7QDFdeybBLBQlpsQeyALTa1FcCfGmpxydIcRd3kBeQA1Zwrka6PzecRE//5KqQKeF3ptRmvFRgTBFMxb3hV1yjz96+NYSbkrsrknLWOCwqL6xdeK8RIWICXQTkfVHfuEZ8F4a0LSMtX6vfV9VXbcOjoe9QJXWUObJjQvcd2HC+NgjIr5bLipfJ6ob5FkIaSgWFgcjSSpjE3m8GWsEkVeRcGcblYjuLxPZxy7jK0jtHVIBjq4YqLW6Zapyu9O/6C86P+k2FRL/DX8iSFYcMX7Qox8yKVg9qIab4chB7i/pnEKjO/XWtohAuGdlpifSkxJuDZh3j1WPpbh2uUEjHcEn6n3/8Io2VoRjzJ9RTtAjXhpCuH3bJT2CGIAOmWJYIDZwKl62RZcBzb7QK1Daa1gqIG/Eiaq9wPJNsh9QHeSZ55sM4/CFlBeuvpP1SzTpn01YcpZKRHWXJadO09mZggjinzPPpG7ekI=
  - secure: M4INHArkGQfYjCKGjmG7CMAr645aeGeilAy1G0zQoVr+4oFzkLi7QS1GjKOzooJB4V2unZ724j9lB8Z1edsPqGXzbqindNku1JGgkGY7mMtlEh6T9kx+uO17mbFSoBW60N5GeBMOwu3XChLIUlOAwqwuDFaqFwWFaqEn2tB/oxUUp0Uau9ubScNqApcxQqZxRLn8oFoJNqBrsuRKInOII+UBCza1flTpHNpdag5i+RiPWq9sy7j+i6v7MNB8Rjv9A29B5L0f8S1F1pn/YZ+HeWVEY+uNGZXaW/HGIs1WvIba4zk0APuiq4t+mIqM9ROU96GEDy1PY3OxMCIjOXryU0/GsZHDgztpA/Wy+4ace2+ezyzfo3ZE1Na3k1Gc4RUSryiC71m45QKTUoZIQkgUPJvih8fNkbIvJ8I1WUdIxIAbzbQLUCGRljkBdlgSJiqKh284aUCRPmxVeKiqPpjQ2o5Y4KH7AHwyqulVdT00H5QgLypXs/nDiiwyjy7rQs9/Aes4eWreGCsRjeXQwivfSgn3AbkYrKlGVrf+6EpHNI5VfVbMUU0D90pJ7M6G+q+/G9yICXVRNGm7bp98kKAKMtNJm+Q1HYbX5voJ1BmzakazoaaQ466G9Engm5IErhDUSXl+MyOzV1PCuw92GQ4R5IHuyua4UUKCzpKhST9fMmU=
  - secure: h+m3zu8RLAZ5/qAkJhViD+L6W+6m4RBgwC/Tq4tAJ8mkEOoVI0GZvwftxUEJVxvizNzKOtsfr9H2N0tYnR6qtn+RulT6nD40y5+YuMnhUQ8C7/LsQ4j9FxY4JUKkjCiwXIBisjIUrjgdSvDaGFqymhCPTQLTsDvvVgDJCrDK6vSpcDuavA6tjE9Ap+suOI0mGV/YZezMhJ8xgerYITgHrJMA/189UzvufLlOIGcyLYnWebQpMIeFiF4dyp2C/+mdF8WmDBcfHUNZFYsD/NjFYuzwrce8cbe8TTweuaqiOf+8kDAtP1zfJHLX5IZZ+m0E+A+2sXvQ9mhHQcXZlOoxsdSoxW3iApPX4VJmpnXXpAn+4ZZMV34blakNwjv9ozxUXr8f+2Z9aMahTXfWm2a+Q+tK46d5IrpfmgMv/ualSd4bpd+wFXgXHBrRI8Tc+pP/dz1UCgLbyz/LnqExX8u2M1H7iPKbN5nqiLLJXRBYHt/azeu9yLAp50zfGoJNzFjFjLskoCwaAAadP3N0Bru6MnHHP2JQxUXvzaLY5DpI3oU6t93OdnUhXlmMBkIQxKJHfz6U/EWh9UbuNfRG+NGiiHQW+bwikhsrL8VJJGFk7OWuH9fILqdCPdNLoTjAnhoqco4r+kGarFjKlYBdjzDpu4mP5CODnqIIiAuFou2Cv2s=
